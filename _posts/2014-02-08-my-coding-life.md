---
layout: post
title: 我的编年史
permalink: coding
---

我算是接触电脑比较久，从286就开始了，因为当时父亲在卖电脑。从Dos，QBasic，电话线上网，波斯王子走来，电脑伴随着我的成长。这里想谈的是我编程的过程，简称“编年史”。

# QBasic
此时尤记得父亲教我在蓝色背景上敲代码的一幕，是一个很简答的加法，赋值给a，b，然后相加显示出结果。那时我才五六岁的样子，可惜就到此而已，不像名人传记，我没有再怎么继续去写代码，虽然之后见过红旗Linux，读过《黑客防线》，可当时的我也就比同龄人多知道些电脑知识，大把时间语数外了。

# 51汇编
上了大学，我选的专业是电子信息工程，压根就没有选计算机，虽然我一直很感兴趣。当时的想法是觉得计算机没有什么学的，我不一直在玩嘛，甚至想像乔布斯从无到有去造电脑。很自然，我喜欢单片机了，然后用它控制各种外设。

# C
毕竟汇编产出效率太低，知道汇编是怎么回事后就用C语言写单片机了，51、AVR到DSP。虽然现在已经纯软件了，还是对硬件念念不忘，那是把编程延伸出去的快乐。

# VB
大二做了一个定额发票管理系统，因为视野有限，觉得VB比较好上手，就用VB了，也实现了自定义控件，面向对象，对数据库的操作也纯封装SQL，反正解决了问题，现在还在那个公司使用着。不过这也让我体会到写代码到最后就是搬砖，如果用一个效率更强的语言会好些吧。

# Java
研究生阶段，开发Android用，这门语言也给我带来了几次实习机会，能够体会到真正的团队如何做，然后知道了设计模式，语言再一层的抽象。进入互联网公司实战真是让我见识不少，PM、RD等角色，代码管理，发布新版本，团队合作，人员动荡。

# Objective-C
有C、Java和Ruby的基础，还是很快上手的。其实只要有了编程的思想，哪门语言都ok，所谓落叶飞花都能当作武器。

# Ruby
喜欢Ruby的思想，它有着东方的哲学，“一生二，二生三，三生万物”，都是类，很统一，看似很高明，细分析原来是这么回事，很优雅，而且能够在语言级做更多的抽象，从而减少重复，使代码更DRY。

在我喜欢的苹果系里有很多用它开发的项目：HomeBrew、CocoaPods等。Ruby很受苹果系的喜爱，首先它和苹果有着同样的颜值，然后都很自由。

编程亦分文理，文就是框架，理就是具体算法。Matz在书中性能优化部分就说：

> “与普遍看法不同，编程是文科因素占很大比重的领域，而性能优化去切切实实属于理科领域。”

我深表赞同，编程如写作或绘画，它是艺术，需要去构思和创作。

而性能优化，交给戴着厚厚眼镜片的瘦弱男生就可了。

# JavaScript
因为用Rails做网站，前端肯定要做，就接触了JQuery、CoffeeScript，然后仔细研究JavaScript。它只提供了一个语言的基本，然后更多的功能去扩展。所有它现在通吃前后端，各个屏幕，了不起。

# Python
因为算法用的比较多。

# Swift
Swift 2.0要开源了，很开心，苹果的东西都很有艺术细胞。学起来还是很快的，更像是Java。但吸收了各种语言的语法，Ruby的?和!用法被直接定义在了语法里，let和var的对变量的定义，参数的标签，后置式的变量类型声明，CoffeeScript里的->的借鉴，接口的别名协议，是我对它鲜明印象。

但新不见得就牛逼，现在比较公认的最牛逼的语言还是LISP，可它也最早。

# 总结
学的语言多了，不会混淆，反而通过对比会对每门语言更加清晰。如在了解JavaScript的闭包后，更明白为什么C++要手动释放对象实例。

总是会学一个LISP语言的，它更“元”。

目前主要集中在：

* Ruby - 脚本，Rails
* JavaScript - 前端，node.js，HTML5桌面应用
* Java - Android，JVM

在用Ruby的过程中，最开始不理解写代码的模式及不知道干什么的gem现在都慢慢理解和会用了。这就是一个学习的过程，开始的时候就要囫囵吞枣，不能因为一下不理解而放弃，然后在以后见得多用得多也就会了。

# 新语言
学习一门新语言是能让我废寝忘食的事情，如果认识一位新的朋友。

如果学习一门新语言的时间成本不到一个星期，那为什么不因为一个功能、一个库或任何一个优点去学习它呢？

# 未完
只是先回忆一下，还有感想没有写进来，待续。。。

发现自己越来越自豪于自己程序员的身份，虽然之前也很自豪。首先通过编程，我找到了存在感，然后也有了生活上的温饱。

手中有了编程这把锤子，也会把现实中各种问题当作钉子来解决，大部分也都可解或得解。由此心中也升起了一股自信，所谓“一招鲜，吃遍天”。

发现学习新知识越来越快，是因为基础越来越扎实了，因为我并非科班出身，很多知识都是用着才学，或感觉到不学已经无法理解现在的知识了，如现在正在学习编译原理。

会很多语言的好处时可以欣赏每种语言里的优秀作品。

## 2015-08-20
最近越来越关心更往下的东西了，比如编译原理、链接器、HTTP协议等等。是的，表面的东西已经无法满足我求知的欲望了。

第一次认识语法树是在《集体智慧编程》书中的遗传算法里，用python实现的简单语法树，当时让我打开眼界，原来可以这么容易。

写cocos2d-x代码时，链接时曝出问题，让我很陌生，我知道这是我不曾到过了，于是开始看《程序员的自我修养——链接、装载与库》。

没事看看《程序员的呐喊》，作者也是极力推荐编译原理，而且点明如果不会的话就很大可能成为sb的老架构师。确实啊，架构师就是代码写不好了，但又写了几年代码的人，只是图有经验。

其实写再多相同工程性质的代码，相比第一个进步得不多，只有不断挑战未知，才能开阔眼界。

## 2015-09-18
ruby写后台，swift写终端。其实语言只是中介，关键是如何使用语言，需要深厚的知识和积累。

## 2015-09-22
发现我一直在前后端里螺旋上升前进，后端遇到瓶颈了，就去搞搞前端，同时看看后端的技术。过一段突然对后端有了更深入的理解，回来再搞后端。

## 2015-10-14
写再多重复的代码，不如解决一个困扰着自己的问题提升的多。

要知道重复并不能提高自己的能力，也开拓不了视野，会的就是会。

这就是所谓要超越自己！

## 2016-05-06 三年之积
三年里，创建了些许工程，有些烂尾，有些在用。但正是这些工程，让我体会到了自己的不足，挖掘了周边更深的知识。

开始，我能用Rails很快写个网站，可是渐渐会不满意，想搞清楚更深的原理。这就是所谓的Hack，知其所以然。

## 2016-05-07
年轻时以为会写个代码就牛逼，殊不知这只是如同会认字，写出伟大的文章才是目的。

## 2016-05-20
在现实世界里会多门外语，就可以看更多的书，获取更多的资讯。同样，在编程里，会多种语言，就可以阅读更多
好的代码，用更多各个语言中的拳头产品。

## 2016-06-16
发现我在探究所有耳熟能详的计算机知识的原理和实现，比如P2P、种子、TCP协议、RSA、HASH等，
这些都是如今信息技术的基石，虽然之前有所了解，但是不深刻，
而且没有到代码级别就感觉心里没有底。

## 2016-08-31
说到底，代码是流程的表现。

## 2016-09-07
代码就是要经得起测试，保证每次一致的输入会产生一致的输出结果。

会使用多线程，真是打开了一片新天地。多线程，一个功能是并发执行，另一个更重要的功能是合作执行。

多个线程，通过信号量或互斥锁来合作。复杂的功能，往往涉及多个类实例的协同工作。

## 2016-09-09
代码是很精确的东西，完善健壮的代码不会让人感到迷惑：“为什么会走到这里？为什么会出现这句Log？”。
对于每一个执行状态和结果，都了然于胸，知道走来的流程。

即使是遗传算法等智能学习，也能知道大概的方向，而不是模糊。

当我去深究每一次异常并将其捕获处理时，程序就更健壮，我也对处理的东西有了更深刻的认识。
不是“细节决定成败”吗？

## 2016-09-20
今天终于学会了双拼输入法，打字停不下来，而且很有节奏，两下一字四下两字，不像全拼每个字的长度不一。

可惜了，现在现在才学，之前觉得没有必要，以为只要手快就好，原来可以更快的！

电脑就应该配成自己用着爽的，哪怕再怪，不要将就。

## 2016-09-21
编程中一个很大的长进就是用新学到的知识反思改进自己之前的工程项目，发现自己当时的幼稚，然后改成更
成熟的代码，就是很大的进步啊！

所以写代码时留好文档，要不会骂自己的 :)

## 2016-09-27 文档
文档这东西，虽然觉得开发时没有什么用，但在开发前还是要认真写的。

首先，写的过程就是思考的过程，能整理思路，把脑子的想象具体化细节化。

其次，文档确实是方向是希望，里面有设计有计划，指引着开发。

所以，在开发项目前一定要先写文档。一般没有文档的项目也持续不了多久，也就到开发的热情退却。
看不到前方的希望，也就没有了欲望。

## 2016-10-24 学过留痕
“好记性不如烂笔头”，学过的东西，就要写出来，一来方便以后查阅，最重要的是记下来也是更进一步学习的过程。

## 2016-11-23 奥卡姆剃刀
看之前自己设计的框架，没有以任务为导向，导致不必要的功能，而且这些功能让之后的我迷茫，不知道当初
这是干什么来着。现在看，都是没用的功能，于是手挥奥卡姆剃刀将其剃到，顿感清爽。而且一下子很明了接下去
该如何做。

现在写Rails越来越溜了，应该是自从意识到它也是Ruby代码，是可以分析出为什么可以这么用而不是什么魔法。
科学就是在不再迷信下发展起来的。

随着写新的代码，修改旧的代码，尤其是后者，让我越来越有信心无论什么样的代码都是可以被修好的。

## 2016-11-25 抽离变量
编程开发的过程，就是不断抽离变量的过程。抽离成变得、函数、类、文件、库，总之让易变的去变吧。

而且一步步抽离，需要时抽离就行，过度的设计反而失去了意义。大多时候闻到代码的味道，就是重构的时候了。

## 2016-12-1 Model 最重
开发中，MVC 里 model 是最重要的。在 model 里把各种类想明白，它们之间的关系也理好，那么在写上面的
VC 简直就是惊喜不断，因为有种“梦想成真”的感觉。

## 2016-12-07 DRY
DRY，抽象出共同特征多加一层，肯定会影响效率，可是为了以后好维护，这是值得的。

不可否认，代码越多，就需要越多的维护，最好是木有代码（让别人维护）。

## 2016-12-08
编程很大一部分工作是在未雨绸缪：

- 检查变量的边界值
- 当前变量的改变时，对另一个相关变量进行处理善后
- 确保数据库操作的一致性
- 保证系统的安全性
- 自动化测试

等等，每一类又有好多小类，这才是冰山下的部分。所有如果仅是开发一个软件，而不管上面的东西，那是
相当快的，就是不知道能运行多久。

而一个好的框架，能帮助我们做大部分冰山下面的工作，比如 Rails。不用框架，虽然开始很简单，但该做的
终究要做。

## 2016-12-10
昨天调研了 Pundit，之前一直用 cancan，看博客，看文档，思来想去的，各种纠结，谁知晚上用了不到
半个小时就把 pundit 配好了，试了一下果然不错。

编程对新的改变几乎是零成本，做比想更重要。而且有了 git，可以各种回朔啊。

在用 Ruby 上越来越喜欢纯 Ruby 了，不喜欢过度的 DSL，这好像也是现在社区的风气。毕竟功能才是该
用力的地方，Rails 也是一直坚持这种思想。

## 2016-12-12
bootstrap 里的 “disabled” 属性很有用，在一次点击提交的过程中，能防止多次提交。

## 2016-12-13
跟着一个持续成长的社区是很开心的事情，Ruby 是，Rails 也是，它们跟着最新的技术和需求来升级自己，
封装成我熟悉的语法，并构建于我现有的知识系统里。

越来越喜欢用 xxxxable 来编程了，有继承的功能，又可以完全分离不依赖，而且写好的 xxxxable 模块
可以被其他随便使用，复用性强！可以很好的积累，想着就开心。

## 2016-12-14
终于开始配着自己喜欢的编辑器 —— Atom 啦！

Eclipse，Vim，Emacs 等都用过，不顺心的原因依次是：启动慢，就是习惯不服，配置麻烦。

于是有了 Atom，开源，语言也是我喜欢的 CoffeeScript.

## 2016-12-15
之所以喜欢 Atom，还是因为它跟我的知识栈一脉相承 —— Web 开发，不管前端还是后台。
虽然我也写移动 App，现在在我眼里它也是 Web 的扩展。

## 2016-12-16
之前一直依赖目录树，找什么文件总要去里面翻。现在觉得好 low 啊，像是算法里穷举法，其实有更快的
HASH 发的，用 O(1) 的时间找到 —— Fuzzy Finder.直接输入要打开的文件，而且大概就行。而且新建
文件或文件夹也不用到目录树里点击右键创建，用 Advance-Open-File 就行啊。白玩这么多年，汗颜啊！

不过又反思，大概六年前我也研究过编辑器，而在期间也一直在试图找到一个顺手的编辑器。

## 2016-12-17
自动测试真的很有必要，你认为程序会像你写的那样运行，可是有时不会。

## 2016-12-21
数据库里功能相识的字段名字尽量起一样的，或有规律可寻的，对于元编程的 Ruby 能省掉不少麻烦。

现在编程兢兢战战，如履薄冰，恐怕自己写的代码不能维护。但我又有一个悖论：没有修不好的代码。

实现一个功能，往往有多种方法，最常见的区别是一种在外部，一种在内部。当然选择在内部的了，这样让外面
的逻辑更清晰，内部的功能也完善，方便再次被使用。

## 2016-12-22
不过早的抽象，是因为首先耗费很多脑力还不一用的到，其次在开发具体的功能时也能进一步想到如何去抽象。

如果一个数据完全可以由另一个和几个数据计算出来，而且没有其他可能，那么这个数据就是多余的，是不需要存到数据库里的。反过来，数据库的每条数据的每个字段都应是独立的有用的。

## 2016-12-23
像所有工程一样，开始时大刀阔斧，后期细细打磨。

## 2016-12-24
木有银弹，需要写的逻辑总要写出来，只不过可以抽象到只写在一个地方。

## 2016-12-26
说实在的，看 Rails 的文档真不如直接看代码，发现其他开源项目亦是如此，有时候一个很有灵活的功能，
一个代码的实现，就记得了，而且还学会了这种魔法。

## 2016-12-28
大刀阔斧的写代码爽，小刀打磨的完善就需要耐心和能力了。因为现在碰到的都是问题，没有银弹，该做的功课
总要去做。而且这个时候效率就会变低，所以会让你觉得效率低下，怀疑人生。

有需要变动的地方，那么就找到共同点，从外界引入变量吧！

那句话怎么说来着？

> 编程里没有解决不了的问题，如果有，那么就再加一层。

编程就是在抽象，如同在钓鱼，其中最开心的事就是钓到大鱼，钓到漂亮的 <。)#)))≦

所谓 hack 写代码就是，用的库什么的没有提供想要的接口，咱就进代码里找到想要改的地方。
