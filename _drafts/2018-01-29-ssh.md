---
layout: post
title: SSH
permalink: ssh
---
ssh 是一个很有用的远程管理工具，还能实现各种复杂网络映射。

# config

可以去 ~/.ssh/config 下面配置 ssh 主机。

如：

```bash
Host work
  HostName 192.168.1.1
  User  user
  Port  2222
```

还有其它选项：


- ServerAliveInterval: This option can be configured to let SSH know when to send a packet to test for a response from the sever. This can be useful if your connection is unreliable and you want to know if it is still available.
- LogLevel: This configures the level of detail in which SSH will log on the client-side. This can be used for turning off logging in certain situations or increasing the verbosity when trying to debug. From least to most verbose, the levels are QUIET, FATAL, ERROR, INFO, VERBOSE, DEBUG1, DEBUG2, and DEBUG3.
- StrictHostKeyChecking: This option configures whether ssh SSH will ever automatically add hosts to the ~/.ssh/known_hosts file. By default, this will be set to "ask" meaning that it will warn you if the Host Key received from the remote server does not match the one found in the known_hosts file. If you are constantly connecting to a large number of ephemeral hosts, you may want to turn this to "no". SSH will then automatically add any hosts to the file. This can have security implications, so think carefully before enabling it.
- UserKnownHostsFile: This option specifies the location where SSH will store the information about hosts it has connected to. Usually you do not have to worry about this setting, but you may wish to set this to /dev/null if you have turned off strict host checking above.
- VisualHostKey: This option can tell SSH to display an ASCII representation of the remote host's key upon connection. Turning this on can be an easy way to get familiar with your host's key, allowing you to easily recognize it if you have to connect from a different computer sometime in the future.
- Compression: Turning compression on can be helpful for very slow connections. Most users will not need this.

# 图形支持

在 ssh serve 上配置允许X11转发命令，在 /etc/ssh/sshd_config 文件配置：

```bash
ForwardAgent yes ##
ForwardX11 yes ##
ForwardX11Trusted yes ## 这个要设置，上面二项可以不要
```

连接命令:

```bash
ssh -X 用户名@服务器IP "程序名" ## 直接运行一个程序
ssh -X 用户名@服务器IP # 或 先登陆再运行程序
```

# 参考
- https://www.digitalocean.com/community/tutorials/how-to-configure-custom-connection-options-for-your-ssh-client
